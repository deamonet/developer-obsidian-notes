在InnoDB中，表都是根据主键顺序存放数据的，这种存储方式的表称为`索引组织表`。在InnoDB表中，每张表都有个主键，如果在创建表时没有显式地定义主键，则InnoDB会按如下方式选择或创建主键：

-   首先判断表中是否有非空的唯一索引，如果有，则该列即为主键。当表中有多个非空唯一索引时，将选择建表时第一个定义的非空唯一索引为主键。
-   如果不符合上述条件，InnoDB会自动创建一个名为`row_id`的6字节的隐藏列作为主键。

为了能快速的从磁盘中检索出数据，InnoDB采用 `B+树` 结构来组织数据，通过 `B+树` 组织起来的结构大概就像下图这个样子。B+树是多层的，B+树每一层中的页都会形成一个双向链表。在这棵树中，只有最底层的叶节点才存储数据，这些数据是按主键顺序存储的。上层的非叶子节点存储的则是索引目录，索引目录则根据主键区间划分了多个页和层级，这样就可以通过类似二分法的方式快速找到某条数据所在的页，然后通过主键定位到具体的某条数据。

可以看到，InnoDB存储引擎表是索引组织的，数据即索引，索引即数据。

![image.png](media/image-6.png)

  

作者：bojiangzhou  
链接：https://juejin.cn/post/6968264298208428046  
来源：稀土掘金  
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。