[MySQL 数据库事务](https://segmentfault.com/a/1190000006727537)

[![KEEP 
CALM 
CARRY 
ON](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABmJLR0QA/wD/AP+gvaeTAABU8ElEQVR42r2dd5xdVbn3v2vtfdr0mUxCQkJCbwmhV2nSFbgqKNJURFRARNRLE0XxWhC9YsGKevW9Xq8CFpAuxQKItNB7SYA0QpLpc9pe6/1j1X3mhKbczWfIzDl7r73KU35PWc8Sn58xXfN/eOk2fwkNUgu0cB/bzxEIDYoMjUYict8jhL0P347/zn+j0fa3RIES5ie8X0T/gtTmJxOghf1UiJZ2Qdh3Z7m2Qm+01iAEkgQtXC/yfVYQxtzS6/+rK/0/fFcYoI4mTIThCrT/2Nyi0VojAOk/FUg7a8p+5qY+ycy/ZoE1oBFCIDCTKuyCSkcY0ZqabggkGiFAirCkWinfQ0+Dtq9+OUX0ANoQjwaNMh8LQ9C5AQoQOvoM0ZYg3szrTScAvY5PpWMvZZdKOA7O2iwMaATScriOG9caiVtgYRdYWw4ElLYEZy4pRJ4A/YIYgnGEJ923jnq07YsWaNOsJ4K4n+4PQ0/aEDWg7TjNfabHEpyIAQ1KGKponbM3kyb+zySAyI1K5DhIYESm1maxAlcFSYC7X9tF0RopzGQl/nMdJlkIw3GiZXHs5ZsU2qgady+0fUDbAbh+J+ZxMhH6D8JqC6fCzP9Da45gtH9HqySJ50mHRt60600jgFZdL3X+c+H0asTxbvKlBqHzIlpjdHPEkIhM4VZNyDDRGrOo0orZwPBRg80GtYlx0FCsdCILKTo326ZdaR9T8d+WAAFSBQgr8oW7N0YV5j6JQAvh1ZPQmVFhGoRIDMG2EI4STpFF8/MvvuQ/38QrX0JbPSdEbvG1VmgrF82i2v+0toThnjVSIXETYL8XCISUZuG9nrBSREViXmvTBlZVCKPTJ8bHOfjSn3DUtddQnxwna2ZIYVSEFEZG+b6gzWe2fQ9ShfDvFwj/fkfwHpRGP0bCmRE7wKmVmQsHXWLOFzEFvAnXv1wCTNFfWvvPhWNHrcEN2AIhaXW743QJlgM0QmkShxmc6NR5BC8EaGH0qsMKQsb3hA42JyeYvfPObLTnW+iZswEbHnQgy2+5BVnoCrpK+P/ZVRHoiCuDEAi8LhAI97zWaAsGHexUGjICESghLPbRaGXtHKO/zDzY5jO5jrn9F6zXmyYBhONgPzkag/jMj0PdQjuudwjdzZ9deCVIPMoWlqkdujdcLYUR3k5KCKns4uOliXnWvCFrNpn/7iPomDGTZq3GTh/+KFkzs9wtoh8dQKcIVoR7jxQOgGqE0FafO/sx7nMAiw6wBokQCFigA3NEz/i51LRgqX/++pdIAN3mE89I2nGsMaUCvrKC0IrzxJtlETiM1AaRfhR2chM3YYTncv0RbtIdcpAo1SQB/va5L0CS0rPBXK7/yEfMfR5BSpyRqRyKd/0nEIK/hCCzRBgbFUIEYKm9KnIKLxqWMFaOk/cOoAqRWMUY/CI6Nk/zw3xD1z8tAXwnclQqoolXXtwLjMNHeDtKWR3vbEFr8wur1yMcYPSztlyncxwSIyUjhoXR5VoikcbCqNWYGF5NNjmBLKRsc+wxzNh+B7rXX59dPnE6TaA+Nsbk8Fp0vepWAIkk0dL3SSC8IAvv10aNYaWRCJhB+MUUSCFbuB+PM4QyprHUFgsJ7EuUJxdnAP8rJcE/RQCtPjenu6XtpDHtlKFgESN/y0l20oQHWnlaFtFkSiJ73xNNMOGm/KcFic7Qk+M0RoZJkoR9vvRltj/1FD785JM06lUaIyMMPfcMzckaH7jjDuaf+AG2ef/xpEVJdXgIXa0hdYZEeXUmhEAISxDOfIzAqrD2vXTAsQ2Kk845pVUgZqzDSTtbxHK+G2fkIXLWULt1eL3XG1YBOc6PqSBGve4zZ9/qYA7G8jqgaLzIC46UFmq3YloIp08jeayVseu1Jms0aNariEKZd/72Cpb+4x/MectbuOtbF/PU1Vfz4p9vo9DbR9fceTz6058y76ADaE5W2fOCL1Ls6mXW7rtw/QdOImtUSctlZFr0hGq64DCFMP4HYUW30sH0tBiBHAxw8F746ZIeUQoDBmUwG7UjAiLFIYLb2sMb3pgqEG8kFhA/4M0d1wmVefetsLpNAEKZpxLl6EIH880TQpgi6XSvJ7IWGx2smI1HblRJNjZG2tnNjJ13YpfPncfjv/4VhZ5eCt29FAspjZEhOmbNZuS55+ndaB5jS5eRFArIjjJpVy8TL60k7agwbdNNePTnv+D5m26ETFHo7IriCA6aG5SghPvb9FtFvoLYm6n8WueXS2ttcYCNQ2iNTjwk9k0LIdAy8VJU52Ibr58IXjcBtOP8WK9FCMZ8rsxnSUQwZlKC7e7Rv4ikgl99EYCTcOBSWaeMpTopPPHVR0bp2XwzNjrs3yh3dzG+Zg19G2/M6COP8uKtt7D26aepAfte9HUmVq6gPNCPSArcfs7ZSKB37jw2OPAgKrNno7VC1aoklTKP/uLnjL+wlLSr0yyC77+laJ1MCfhoNMqZvV4quIkUKC/rTPxB2flQlnsy8nOl/MTIABzt+5wkeL1E8LowQKvOd0SgremiHTJyHXYAR0SI34Ip5/rFgyu3uO7eCHQJBaLppYYL1pgp0AilkFqhaw36N9mIbT58EiIRlHq6KZYKzNh+Wx7/318x9PTTlLt6KQNr7l+ESiWahOGnnyQFOrp6GX/+ee796aUUujrQKqM00M/wCy+wy+fOp3fjjZC1OqkWSKXNjzZAUQqBdBjBzY0HdM7ctePTwXQUQhnJF1kJwTqKmSsiLK0iP0hgonbr9C8jgJjzvR4XgHK2vY2iWQ+XQbWQCOPk8WLcoX2L1BO7iLHnS9gVFpFjJ8EuulC4MLG7V2qBGpugWp2k0j9AY3Scgc024/6vXsjSq69j4733Zc9vfJ1xoDY2jABWP/wwW7z7KDY96kjWPPwgwn43jmbLgw9m9zPPZHLZcu694Iust2A+o4sXM2fPPRmvVqkNj5BmGEJwLlxtF9KCPkHwPkohkNL8eCFn7X7plGQuKirsPGtkZOYaz6H1GVg3ugOQDl9FQvQ1Xa8JBLbjfHzQQ3sR144ig387VlSOKwzVO/El/F3CCxLDUTKYSziRaIkETVYbp3fTTdj7jDNYfPUfefx736e2eg1rdcbGc+cC0L3hxmx7zDEUyiWe/u9f0WzUWX/BAtJymfEXlyETyeYf+iDZZJVp87cBIKuOs3Zykts/9e/M3GlHRpcu5fDLL+exn/8Xy667kUJXt48WuomXqtWTaD2RXp25sETAOzrycOIXMdj/wfOovQPNmllW7EfzHvlOXgswfFUCWDfad+aJXQtn+ysdxu4431N3wALBQ0cQm44ItAujGoTtkGCiIgLxnRM0ag2mbbOA7T/6UV74y18BTWX2TI75080UensA2PTgg9j04IMAuGVwkB3POIOXn3mK5sQkR950M4/+/Bfs9dWvAFCrVQHY/MQTWXjKqdxw7LE0R0fpW7gN89/9bqrLlvHCNddSpInQxi8oo1nXAjLHFEJFcQkRoXsHl4K0cJdRpIEd0kgFaO8jFjZ8bFSCWfjXbx28IgFM8T1HaN8DvlfifPtdcN0Kg4M1PtvG6cg4ycdhghwBeakRU6WZojRNWXn7Hax45BEO+tlPefDbF9O94YYMbrmF7/vk0DD3X/Iddv/s5+iZNYfe9WeT1epkzSbTttiCQk8vzabi2SuvZPMj32UI4ABDMPtc/C3qY2NsccIHGBsa5rFLLyW1fU2QwT0dEaeQlknXIRG0FeXh72juhPRz7MjADdtjApGXLjqaD+J14pWJ4FUlQDs7X2hvy03hfBGvpJMQQKJVhI6tEyhyDgkXlw8YEokg0RbtRvpNiCzqIAiZkpQrvHT/fcyYP5/BHXeke+48Hv/Vr7j5hA9y/NNP8vTll3PD585n6IEHGHr8CZ674tds/K4jmPGWt/C7ffZhYtVKnv6vn/L8U0/x8eXLyeqTXH3gwRz98CPoJGH9vfZE12s8+dvfUlu9mkKpaMaumwAoaddCJyZ6aW0zoY2ZlkW4wPkIiKKkymUGWWyQEMLKPiVNGU5PLFNZUGQkgXFCYCyEqZJgXddrwgA5Oz9K0/ILqvIo1FGhM3u8MNMuPy+Icm/Hi4h4iLjd3hNAsPAvcK0USynjzz5DY+VKnr3mWm469hi2PunDjDz9JKsbdZ797e/Y+J3vZODfz+SRK37rI237/ey/6N5gLs//9a9kQAbMmj2T7pkzueurX+H5J5/ikR/9kId/8AOUgt0v/iZUJ5hcvpxyd1fw8zuyFoFfvQD0Zp6wQtN5Rf1MGWlgsxi0DqDYSQLnN/AWlxBtJYF7VkeS4NVSzNr6AXKgz3vvnDtLGQ+XjjoEJCoANOe8QWACNq7VyFUaTD/nEAqLnyCM5ec+EcYn7t7pCcZOggAao6MUZs7ixKXL+M0O27F40QMUgBLwgZdW0jV9BmMvreTxS3+GKKRsecL76ZyxHgBDS57jiZ/+nMqM6Sw87TQAlt52O5fvtScSqAMD683g6Mcf59ebbEJzZJi0qytnivnUPjvpypKZ1iGbUQvI8joMCDrf+w3Ig7ssutdnTomAJZS07cScYjGBFvk8w1Z6eE1moKPwlsRYv/jBlo/wgdfxeUsg+LnzksF71l0QyHKBjw8IP67gJ3CEJCTFri4mli1n1UMP8d777uewn/yE/b71TU4cGab68mquO+oollx1NTuddy5ZpuicsR53/cd/cOspJ9M3byN0RwcLTzuNB75zCTcdfwyd68/g2IceYNvTTmXXf/8071u6lOeuvJLxNWspdHUhpQsQ2T7pGMgGIvX34MxD/FhzyS2Wipxk9WA48oI6T2CMmfwXLUQy9bv2V04F5Dk/JCQIhA3qKC9yfLZuFNMOIt3Z95ikTBF0u/f1O863OCJRccaQQkgVIofW++XRspcYzldguQ0YW7Gc6dtsw5yDD2b0+SVUunv41e7zeHF4iKcuv5wtT/oQSUeJZr1G55wNQGsylVHoqFCvVfnzJz7OKLDitjs4fvEShvbZn83ffQQAax95mBQD/IzaM0kdudmzc2HAoQbdNBJBaqSWCCX9UmXCcK0DvFIEe8BJF601iVW/mYjYR+rgeXSYwIFlre28S5On0GIVxJJgKgbQ0S86LLZz9DgK0150x49qv8huMtw9/l8CEXgvYY7rIyRLZB57cBikTbA+BKCoFMsMP/U0j69+mQ0PP5wHfngNc/Z4CwdfezVLrrmWLY87ngQo9fUxsuQF5n/wBADWPPUUxY4OiqUyR999F09ddhmbHXMMTZ2x6oFFbP7uI7j7ooso9fZRcPpbO0MVj3N0fjKIBkw+aKVz44gtCIER+R4VCMdswmeeB3mqc6/REVPlspVia63FJJhCAAKj3zUu7uW8XEaASQNZSUQkolzPHOf7XD8nr0WUCaOC6EaQqOAQMY1lVvpEHi+HF6z0kToAQGMFCLSQCK0Yfuwx+o98F+XObqYvWMjwiy9S7O5l2nbb8uyVV/HwD36ALJVZe9/91OuTaC1IC0VkscCfP346HeutR/8226CbTVbcfifr7bgjAJu85z3cfc5ZCGk5WEYYyIUDACWljxr6xbZhb41CCQUiMZ8ps9klk/moXyKkxRFh8bXWJmlGCCMJLC6TBOCnlUZIK5WERusM66D2ax6nMbSXAHloG3SIQ6p+wQOLaufbjl7km2rZveOeCXeKAOjcAjvPmkO/8f3OdRa1bYhNkhRLPHnJJZS7u+iaPZvay6t4+MeX0rPBbKZtvYAN9tyT8vQZJOm6jZ/q2jWMvPAiax57gvEli9FpyvJFd7Hm7kUsvuwKyl3dAeQ6yWbNY62DZBI2lBtsdzfuIB68k8vxswj6OwDg4Edx/C4tcypvTgQVopRCJBKXYRQkdXuvkPj8jOn5zVQ2+SBORvD2vuV4aQnDcTJAEpkvWgeAJx3327Cp9JwfBihQSDJj9jhiihZYIgLO8J9H4k8F80vVG1Qnxkj7etnnpz9lkyOO5J+51j73LDcefhgjjzxGsaODpFjys6jRaJl3desoUylYA05tWuPVLrSyJKJ1Akgyadt0CSLWDFT2eef5s4YlWbSoWutgFQir762UVgKwIWRjFUTmtiOAkHQRbc5QWVgkn6ptxJYjAvd9nNniuBgtbMKmMGrBRsxAGwIQYZuWNPTsorsW/buh2ve1Sie7CELLoIuF8Utkk5M06zWKM9djcPsdmL7bbvTN35rOjTaia2CQQmcHlMuB8BsNmmPjjK1+mbGnn2LF3Xez8s9/ZfihB6DRpNDRAWmCC2i5oSoRUrZi1nU4SXlMpFE6b0kpTwgStLDZv8IQjdZom2OQ2ZE6E9EQh/B+A+3/JhAAdiJ9eNmsmnJo3BKMON/6AdzC4nWOy+UzOhdtInJuBDJuRAhkLkUrn/aU1/mWyETTLqzT9d6+sxHF/KQ6rhd25pxDyRGgmRSV3yOgMlStTnOySmY5SWCzepMEnTqyEugsQzeznMu1IAVpZyeiUAho1C6ucPa9T3u3fZMOOTkzL15w7WP+bu4MhHCSIAWElwTKSlnlJIG2EiJKQPWSIFIfLpfA+QC09ToKkZjfhSEyLQSpR985wBFEv/ctRIwnnd4XQR14J4/lfI8JYtPFK7zwXdCPsZkY2/4x9A3IWyAISTjBmvDEAMi0gEwLpJ2dEVEYE8mBW7+ocbxBytyCx+/IX5ETy2c/x4LATJCO54cgqp1F66WKcPfZGbOT40bkLAHvNo4kjo8Eah3RXF7px984kz01qB+PEYzDR4V2XUed8SFi7jNJTgawSWN3oiJnjbJSW0Y633K+c5z4WdD+87D4GGKsNdGZMjuBigWQ0vbD7i9QGbqRBUIoFEErVLPZinnCmJxUKpj2aDSg2cx9Hy8+gJbS3K81utlAZyrca01mkSSI1EQItd0r4ACcU63Ke4vy9j+YnEapUsdpKGdVOcYLBqLX5W5NvC/Ar2TwlzirwFggwSGVOpERi36PQO2mDRGhcgdgfPAxstd9ZosQ+TZEYPGQWev6FmXRBOI0nKU0Wa0GnV2gQSYJemyMpFjAsL9ATVRpNBrI/l6E1hR6+1CrVoKQqK4uVK0+ZeldAkZSKqLGJ6BZQ3R2ogDVbAR3avxckpCkBfTIiGGWrm5Uo2G3dQWWyIaHUECx3EFSLuXUlI5Yx+GZ9pIgcJ7UlghyKXROErgWp/K8wO5usMzrCSc4VEBAGh4VuUXGLr5H4DoQrUBbcCf9Ikvp9L32oWAhBKlFJH4nj6aF8y1mCPFhL1ZVplCZ4J333M20eRsy/PIq/rDppmjVRKZFsrEa1eoEe/3yv9nyuOMRwHO33sxN+x3Alh89lb1++D3qrRm1vm8SCVy9556svP12Drzy92x4wEHUVeYJJBIBpFIy9PwLXLnpJhR7unnXM09T7OxCaYUQwaM+/sISHvvhpTx00dfRIzUK3T1BD/tF1jZK2CIJPFsZH76Tmlo6FeTMQBdvcVI4+AectSSdwHdWmQiEJRCmTVxGsqce4yYIsAbfWc+1YAfcRg+JMHE+zu/oUihysV4HHj1HQuwV9H7LepWOnl4AOnr6yBpNUNCs1pisjrPzxf/JVnbxhxY/yx1HH40C0qIRbkUhKQpJQQjzIyUFIUkthyTFouHYjm5zv0zsPSL3jAB6525ggWWNSmcXCfi23E/vBvPY7ctf4u23/QVdLNKsTtr9fyYvMHaQiWie/LxZIBxHw3IxklZxHAV7vLMtQvpBlUfr6hNZNWkozRLrfic0Agf48KzAk5MTLF72WI+W43IvXYQAmj5/L5b3MnLq6EhEC+8902QNI8ZVfRLRbKIRVOs1tj3vPLY/41MAjCxbxrW77EHj5TUUAJU1PFfef+mlLPv97yn19Xp6lUJApYPRJ59AAlkz3H/LKSfTWLGCtFLxn8liSmOyZohfSrQymGT1s89y/aGHUSqX6V+wDbt+7at0rb8+s3fdjR2/cRH/OO3jdJQreSvCLpCIJIGOhAHCJdemzpFoJbTDFA5sCv+7s6QcCwu7bsrZ/m7kzjlkvb2pASchuONe5M2+iMP9+q8L9cfRQY8fQrKosGaMJEQD40u8UtzSCTulmGg22frkD7Pbl74EQHV0hOv23ofaqpcoDw4w+fLq3ONr7rmH56+7jkpLe0JK0q7OME57Lf/DlUyuWEHBv9cSTZqSFAtIGUS+aDQYefwxn2m88i+3ctSzi0lTyfxTTmHR585HVxuIctGabW54ZtXcYkkn9LS2hC9QFkRLm1yi/MrHmMk57fCSQeCIQuQTeiIs4ASIT8f3OM3+7fau5+L11uEj3Z4+AhG43S3CE4Dz50ex/CC1cpG+HPdHqdStdKAzxWSzybzDDmfvH/wYgEwrrt1nf8aeeZry4ICxFLzUMVeSpEZEFwpmAYsFkoL5ifW3u9I0pRDd756RpWIu6RJApkVKQLG/l67+PoZfeIEX/3SDaUcmdG4wm6xR8y5jry0dSXsM5MS3m3+BSxuXViL6yXOR2EiN+F3FBNPWxWD8ljqFr5FgsoitFaBzIYKg13W0+J6SrCvR02BIfbF7A52eyyIKFGGwIgw/tvMdAg74a6rdXV2zlplv2ZO3/fEq/9k1bz2AoUX3UJk24AM1rVdp7gZ0bbYppYFBPz4hE2SxwPhDD+SwOUDntgtJ+vtJOjpxWCgpFFD1GqOLFpEWCqFxD2kENI0KTbt7AoE0mtZfoX00TziM44BZ1FAccfWSwK6PVMa8zGKU5rJEY4eK/b/PJPIJJJFLxUYT0uA2cQZFHIyI8vRwblxFztwUwf+fIKKdPy4vPtj7BuDIaKEDjnCeQO8wkuQ4BqBr1iwOvf5qwHj1bjjwIFb/5VbKAwPIJPEWReu12znnsNs557Qljiu3XcjYmqEcVx929TVt7x1dvpwr1l+fNHIgZdUaVUCvGaIObLDfvszZ8y0ATAwNMfLcEtJSOdpxLiKApD2hx7uKvIzRbo6sKtB2tlz0MHLWWKsZFwRy6XRmiXSIA7h1tiZ76qjNiSG02/ihA5XaBXVKzJGCc0v46l02B4Ic1ztCMU/IKBYec/4UdBtpS3cVyiUKlACYXDvE6vvvN1wmZTCvcvrx1a/Ybn61K6vXwkOuT309bH7ccRRKJQa22575Hz/Nf/fAl76Mqk6SdAyYx0Q+ho8mEL6wVVK0dRc7KsllV0edVY6mHFiOTExilsarZJdoCqHmUYsfIOJ+HWUEibhJaQnAcbT2WT86Z6rYltxOFuHQvf045vx4MZxDyeuC0MORZct4adF9bHroYXT29/Fv993HVTvvQOPlNRQHBoI7GEdw5rrjC+ez5Ic/pDwwGNzaUpIUU6ovPj8FBF617z7Uliwh7eiwXm6NTFNoZhSLRaQMT/Ssvz4H/PKXU4jlsZ/9jEf/8xuUerrcPjYvLYWVBMF1q4NF5eg/KjUT1IPIof/g07Cf5VGmVQORxQF+PE7qpC7TJ/b5+3wDnGcwztLRho60QY4+Ldwxr84syAtqxHC+8PapQBBjFayjRMQfxL4Fe0nglsMOp+sfdzJzl13p2WAOh9x0E9fvsSfN4SEKff0RgwbCaa5ew+TKVTA6kVskISVJuTAlMbK2ZAnVxUtIOzqjTzUiSZClUg6bNFWTtQ89SFLpBCkZfvxxnvjRT1h29VWUOjuRxVIuq8dIArfgga9E7Aizy6ksOpMIKxky6/o2CXeZd/auGwu4qYjzE+L5TeMXm3aCw1JHojlO93e631FhvPnRmX0Bzbe4kmUk+qMGW+MsThPGH6c9XQjgTwcewOEPP0LfBnMZXLCQfa6+mpsPOBAxOkqxp2eKiSmTorECyqX8O4TAR5SiFyXForEAyiUf3TF5eIKs0cjhhbWPPs4V2+1IyRJohsFC5f4+hE088QkdOsT6TdgaL54hcKYLVoVgWR6gx9aTc9HGLmXlBIELjHkpYvIEnYMPIUy4geglhjvDzlRnkriNh1I78yMHKePuTXGlx6lhOuZPERGM94SJXGt5okgodVTIRsa4ad+3MjkyDMAGe+/NXpf9hsbkJI3JiYiwzJWpJnWg1qj7n3qjQV1As1EPgs3+00RTy5rUG3XqzYZ5ptmkiUbVa3mirHRSASq9PZSnTaNrcDqV6YOIQtomehjUo7OI3PjDHEb2YITyhJ+beGLdGljzHOUZ0WwsdRvQhV/L/FpB6pC+Fw4iSsV2L47TulucC96NqaNFzOl+l+8W0KsVVgELOBGZC+fGm08iaSEkxZ4OJp59lhsOOIDD77qLBMEm73wn9Z/+hH986KQppLPb177CTl/4PEmxHMhUJoiOEjfuvS8Tf/tbzu9w6J3/QMoEkQRdn3R2MPzUM1y/cCFJlnkCM+spEYUUZBI2/HjOIze+WBXEWCjudIwNxBQudnMSiWTvwwkAW/u1iwttCZ855AlYE6p8SBWySoPPWk0F5E5XqfCs1/2e0sxDUsuciolBX+wSiK+YGGSaUuo3ur3U2UFaMDq7NNjB0N33cOMhb+Nt118PwFYnfoikVOb2449HloP+LlW6KFW6aHellRICKPT2+c86+wfa3jtt882MaVso+IUp9fcjC4l3aUdZgIFBWsaFDhGXWNXqyCFnzD7TpnJMY1W0Ek3QmkSloM33mbA5DDoSZS7MrqP8Dcu8meXC1BtsjoPjcGGsm2M1FIgutyHC+w2c7ndToa2qjXR/zBXu7ym0YOP/93zhAiqzZlBbvdZn8wgp6RicxqobbuDGd7yDGfvui5CCpFyie95GrPr77Tz4/e/RGBnJNenxQSJISmWqLyylXEh44sffZ+UWW9EYH2ujfECUSzTWrCEpFtHAPV/5MoWeHsafX4qslHDh6UAEbnFbJFtEBK0dC7a7DmsRh9ejgEFoo8Vkdgybm8xgVTlrwHYGccG0Ae2qXTjJIu3iuLQuadCK/U/Zql3mu8SDvwyEregJfuNnEtm5zoAQUniCCPqwZYLcBGRNGkMjZEqRCEGprz/oVyHM9yOjZLWa8dglkkJ3Lzpr0hgby+2SiQWYv7e3D1lIqY+MkU1O5NYl/l0AIi1QtNvNa0ND6CxDpgUKfT2IJA2xdgf2HPJuAYHxWH2yicvHUPiiUw5jKaFttRXTXtPqGaUTEGa7mbZtKGwKmTMv3bRb/40LRDWdBMwN1A8gT0Ae1Glnp5OzT1sJrvVZH792nC6gXYrVVBxgJr00OBiBoNiRpEGmFPv7o7Yc2hUUurs9J7ZUk8ovsobSQD/Qn/9Gh++dmHRzVZkx3XCry/uLJWWEY5x3snXh2wHEPOGFedI4LJWnypyXREdSg1gbWDVgVY0GU9XFLmSa2A+VCL78AEKD/hfYZEqfMh4GHQIdFvhhvHMhSdEBlEAeOdEv2i+Mq+2vs6YpnyaM7S6S1PoOREQYtAw8epsOVcXDDiq3nwFcOTpfCDrKWQjjjBbCbr1yIFl73ok43hKHdJzo2o4ZZR1qIcQKWjjR3pBYnZ4JuzXc3mr6Z9C/1tFWOrCSIVJL1v5LnQ/B17rxI8pzXCvZORHsUW3EJbFV4PnSe7AihBqbP7ltYhqUoj46RrNeN3sLOirmBdUqKssolEoUe3ohlTnpEk9mNjlJfWwUlCKtVCh29yBSk4JN9H6dKRoT49THxgFBsbOTpKNirQDXniMgjarVqI2OkjUaCCCtVCh0daEjq8ExhKpWqY2M4rwHxXLJeBilnCoBHVFEOA7hkHwbZCL8U37qvY/HOtziQy3CM0FcySyiMpexorDFjXRUBcunZ0QvwSGDED72HK51KBejQftizUFS6DZj0lqTjU8wuXoNPVsvYJcf/Yh/e+op3r1iOe9evpzDnnqSnS+9lO6tt2Ji1UuoiUm/3TwmomxigmRggD1vuJ7977mX2UcfTW3NSwg11enUHB1l+jvewf733MP+99zLekccQXNszLflTx8RAtVokHZU2Pu6a9n/tts44K47We+ww6itXhM2wjp932hQn5xg559dysG3386h993HhsccR3N4ZMq4faRUuoNwwnqZdYjuib5LFKSZq3Ns0bYrTzJ1dj3hO/WQuoYcR0b01IbibAeUntqojBJI2zkrPF6IclWjyXLc0BwdJcs0u/zgByw4+eQpXah0d9N/0sZsfdJJPHzJJdx/1rnApOFYJ3GUojY8xIJzzmTefvsD0HvhhSy9/DeoWg1ZqeS4T1WrdG26OTO32w6AFZtuzIuTkxT7+qaKaWVCvnP3P8A/33PJd/jjtdeYmoLlshmTUtTWrmWDY49n6w9+yN+7asstybKMQsu4c2BViJC2FTuDvMTFg7LcVvGcsG7Vg+CrrUfLIp3sEFmUYRqY1fK8CiLIUmOizWkZElPDj0hICR/8yC+6cKJiHfSVTU6iGhn7X3tNbvEbjTovPfAgL92/iPpk1X++4LTT2Of6qw1C9sDGtFMcHGCL0z4eCGdwkNlHHUN9aMhPUIzA1WSIE+jJak48BZxio/OZyvW7a8ZMNjn9NGrDwx4U6skxRFcnu3zzP3P3Nicm25qZU694u3yEPfyKGp8lNjvAT61BeW0mOOABIWxBD22KW3tXrffgRWQTuTHW2cHWKxSFmvJI2z+M+aOoj42z7UUXssEBgbvuPf9zXD5jJtdsty3Xbb8DV8ycyZ1nnum/X3PHneisGTKBlKY2NMRGJ36ESld37vULzj4TigV0vW48Fq+AxFs5M7fBss213ecvoDRrFtn4BFopJscmmX/ueXSuN+M1LXfuHegp866nTv/UD2IPYYuQzvOcsCAbUleEMfYp+BTk3EuD47+tI6PFKRFhwXxHItTvN3kKQXNsnO5NNma7T33a337Te9/Dc5ddQVdHJ12DgwCoWo3Hv/ENJl9aQf/WC3j43HMoT5vmpU1Wr5H2dDP/058EoNlsMr5sKb1z59G36WbMOvxwVv7hKkrrrReBfe+yWjcRuH6vg2aKpTLbfP587jz5FIq1SXo235QdPnNubnrEOtqeQoh+GuOdBCr39VRnT8yyraajO40k76n0RT+nEldeh7cueKTSW55rgw1oJ/F17jepTWbNRsce6z9/4tf/w+LLrqC7f4CkuxuRpog0JensonP6ICt/93se/+J/UBocQJZK3iJprBlmg+OOo2OG4bwXrrqaO0/8sG93/rmfMdTpgkCvcuUsk2jh3LVm8bOMLFsKwNYfPZm+LbdmvJmx/Te+4e958e77Ea/hXbrFfp2aKcW6idAvUZj3tuNr+TCKhUaeDBF9RQCGLnlUifYKIY7qeddj1CH3ilZxprSmCczYcw//2dOX/syEWAsprpqImQAQSUqhu4dCb48N8Jj3qHodykXmn3m2b+fJH36X5Tf/iZHFzwIwuN12DB54IPWhkZaO5HV+TkWJdauL8cVLWPT58/3fC847h5k77cBGh7/DEMijj/LAlz7/GpY/3xO3+D520uoPiImCcAqp42qxDnXVyoguOEyeftpfccQslkC5JOUoSmYWO5/l275HxuzsGFjPfzy29AXSYslLIN2uH9G7tIb60DDrH3EEvRttCMCqBx7g5b/8hTLw2H9+yz+/1TlnkzVq6CyuvxVr3Tb5CbkPwu+lgQGe/MnPGLYEtunxx7P/tdf57+8843Saa9a8ykK0vCvqxxQ7Pk8Dkc2fbyDOsHfgfkrNR0DKkMT3+q824miKetDC+ADWMfRYalTXhonqnDGLZr2+zm55z51rtdFAS838c4Peve9Tn6RRNyj5yUu+y9BzZpFm7bUX/Xu+hcboiCfOdvQZ78eLe69luDmplNHAorM/YyYUQdd0o36W3f5XXvjTzXRMG2wzZXmfgXufkz5B90cDbulkXBy6ZV3bzJfyHkafjidAuv39sThx5cz1lJankmKrt9JVGIntUdHSldYYt7MYXr7rLn/XxscfRw0NzWwqflAZ9bEJGsMjZoOmVjSHhljv4EMYnD8fgNrYGANbz2fh6Z9gyzPPZLMPfpCJxUt8K1uddRbNiQlTFyC/xlPG5HbWtE9WkZSAFy77DcvvvCvX07tP/yQFMDua8yOYOo+vkAizzn69Wps5gmh1LZsSM6kS2uuMkKgJQqhc4sArdSrOqZM6EqhTxJAJE7sBxwUN0lKRZ379v2x3nuGkrT/yERZffjnLb7qJzp5eklIRhCBr1JlcO8TsI97J9F1248Fzz6Xc241qZCw4N6R+l7q62Pm7311nv+e+/VAe2mF7ak8+5boQ+qoUutk0UsW6f31wTqkpBC2ThILSLDrzU8z6220APHrJ9xi67z6zuyiOVbw2J8DUS4fSr36CX6Ett/hZ9InwMQ+7nVyYCi7G9GtnV77GzsZi39eneaV721yFrk6GHn6Yx/7rZ/6zQ/50A5t/+MPUqxOMrVrF2EsvUR0aZaP3Hcf+v/092559Ngu/fiGTQyMM7L0PM3c3+fgZMLJiBeNr1zCxdq3/GVu1isnhYd/+Fp/+NPXRMeNEiq5GvU4VmBwb8z8TY2NU63WatQYi2kdoJLMk7e/j5dtu5/nrjP5/6Aufp9TZ1dbf/09dry4oXlMbrqBMvlCk8K7oKe97rZcLZCWvt5MyodzRwd0f/xgD227DejvsjESy149/zA5f/hKrH1iEzjQD87ehe85s/9isAw/iPs5mq3OC/+Ces8/m8YsuMgmiscu3VqM8cyb/9uQTpIUim7z3GB77jy8z+sgjua5sc/7n2PyMT5CUoiRSIShOm8adx76fFVf9duqcpimlzk4evOACFv/29zSHhigODtKcGM9PhHj9c/oK6/jG6MAD/5ZSsaKNJHi9L3AuyXaOild7MOnsQDYybth3P5793e/8V53TZzD3gIOZd/AhucV/7orf8qeddmHGLjsz922HApA1M174xc/p6u6iXKnkfjp6e6ktXswzv/wf39dtzv8cGSAjPV3p6aVvzgZ0T58RfganUxKScn9HTmIkHRV/uFPa3c34E0+y7PLfUBoYcAgXWQzFqNJSMZqpN365xX8j5wRF8X5S38CUldbwGjCAb88ueO44mXXd2+6yEYq0r4/m6Dh/PfJIntz/QLY4/WPM2mcfijZnrzY6wku338aT3/42L13/JySaWe96J6OrV5HV6jzz40tprllLecYM4x5uGUOxv59nvvcDpu25J2lHhfIWW1AeGGBy2TKGX1pBc/UaQLQxo6AwMMDkqiEoV3jpoQcpz5jBy4seMHsFXYKFTT13zyTFIo3hIYZWLEPKhLFly0iTf5EMEO6gqdf5XIQlxJf6+nViyckspN3Plyv3YtKOE/uk2+dv9gg1Q7KhCOXdfOq4crEG4ZJ682NoiQj63xsZ9ZFhEznr7ER2dyKFJBsbpzk6SqFYpNDbC1KSNRo0xsfN+QJpQqm7G1EoTG3T/ptNTtCo1tFZE1mpUEwLZM06jXod3WjkJshMiQWuhQKFQhGkoFGvm9BwoURaLiJtrqBu8XLpZkajOkGjWkMpTVouGSJJkilpYu4IHq1shM8mk+BcuNr8mxHq/5q916n5XGgfulYIlDZ7AJV2NQVMRTFts6O0EKQug9eh9CBWXBHmPIdO8SW1VRmakMBoAw/2c5+0YNPE3aBaCBtRSCkPTjPfN5voyRoCQaFYpDRzJkJIlDRWS0FKCsViyBNss0s4DqWmlU4K5UrQUlKS6BKFiprSl9bK285sTkvlaHGE90ZNyf1LJGmlg7RUMW6dxNr5el3vee3SwZnsUx6J4kE5D4bOb4IRYEr4+P3lr/ruV7E72n4eCk+EjgQkFJwSgRhi21WjPXcJoiAKtqKpIGwLb/GItQZcgiTAF2F0MQQjr2Xezta6zd+WexIrFx0D6XXPjZA2GTNamUAo5IgmjFz4KqNO4atoCp34X+dbpzCm9JVgwmeatBVKrnMd20BOP5lxloH/zqlF7cWZEK/0hkAMrRySq2wVL6gOzzk/hw6/oJtNmmNjyIKpFSik2b7cGB1F1eum7n+phGo2aY6O+QIQzbExVDMzxFcokHZ1IYtFR4I5cRytzysmusYrmSut0wYte2L3kRQdjTMEpry0bvUWu1siTle4WsQRcWns5lBC2LB9l8xXSgSU77K6w802B82vleF07UK+sK7E3HVRQ86V5aerJWIWH0jliQ6TutWsVplz0kmM3HM3ow8+SLGnl+b4OP0HHUD3llvzwk9/ihodQVQ6mXvGJ1lz041MvLyaDU891Xg0kwKTLyxhxTXX0FizlkJ/nyEi1UbUR/0xDBOIOD4k87VcnkxEyJ7y82FrBLh9+Fq4FH63RiIKxLzCfDvQTZxS1K6DOlBfTMdtI025VRa5p2KtLF7LRPg5bcP5OdEeEYYjNg2NoWH699mXPS6+mJcfeZgbt9uBtNJBfWSULU79GLP32ZfuuXO496SPUOnqYpf/uIBF9Sor7rmbnS+4gGq9hmg2KXV0UqvXuHGPPZh8/CkKvfaswCjjOVT4zu8DaCWEVx1yfK+bS4H337s5zsGSSJDEAbh1KYfWmZdaxKkGFuVrcOfzRr3DJY1naHLufhzg0PnbW19o1YWvnN0GNEWVdnML/0qgKVdiXYNuNmjWqmxzvgnTDs5fwOD++1EfHkJnTZojYwBs+aEPM7jXXlSXLQPMuUONiUkArt92O/63s4vrdt+dUrHEXpdfRtZsopqZJ8rclu82i9yq0734b4P+2xNJrAKmRgE0Ux135srAHePr56bluNmYALxOe8X4cauemhqG0i3cqtfdGOui0NCPqVLCJUCua5OFm5bG8DADe+zGrLfszq1Hv5ehxx9n+y9/CVWtm9qAlQprbEXwvS67DKyjxrzWtFXq6KBSLvPynXdy9yc/Sd9Gm9C5+WaoWjXqTxuRr9ch/t0L1jHsPCGEyt9ThbMlunykhwBEI+Doaad1q33ojzSq2qHa4McXUQp3tF3EB4i0gGaCLXWeEkOW0NdYNNo/XTbJK2kBH09o5ZI84fgETDdxWpvcwmqNrc//AuNr1/Doby7j3s9+huk77kTvLrswCchCAVmrc8e730vHzJnMv+hrNN1mD9e8lMiiqSsw8uwzAKSdXb40bO7EsFy4OCx8bmNo2I7wipcQ2MMmQxW2tgCzBbi7qbUoDUUsgh1Ruf6ak8YyGZ0Y4hdItOHuaEEjLJJzKWqlfU8UmsTbeTrqYhx21rQDTHEe/tS00vzu2ni7tUvbqo+M0LNgPvMOPhiA9y1fhuzoAGCrc8/mxXcdYTaK9Pez9vnneOiir7PtWSbJNKvXPNHW1q5h0m4s3fL0TwAw8ezTplj0uvrcwv3xqrYT+XksFPsBwpzFCSFxaXo3R62g2DfVzmyzQCE+YDqV0R9KaFJtKMUVKBZoU407PrXLlyIJRk3LiI3FIIT3EAZtZuHqa3Vfxnvj1kEwfnK0JqtOssOFXwPg9k9/ikJHJ43xcWbsvgubvedo+mfPQTXrJJ0dFIAHL/gC845+Dz1zN0QWEkTBwNV5Hz2Z6osvsukJ72f69jty7/nnU335ZSo21zAW8e7ftp69V0H/uQ2iCuK8jJzAE0RS0LKQNvX/M78PxFYUQyB1EvwI0TN2Sv2V5mxNEe+Xi+3yFijiza92XOpEj5sMuwvIig2hNW1qM7ZdYC8rYpDXMnnuC6EFqtmkvMnG9O2+O4su/BpPfvNiyggaaJb+v0Fm7X8Q844/juFnnkV29VDq7ELVJ7nzI6ewz3XX0piYRGdNJmtVtvr46chSkdqyZdxx6ik8d+mllAYGTJGLVo5saxGFPYLOpbsu7s85qJQroRFr7HVxSxTpjPaFOUAedjRN6Z3/UHxx2oAWylCqO43LnQbiMnWEPZ3a+L7cPkKjZaZsD0f4EvE+ZiCEd1hILXwViTjTtW08wNq0okXM0+Z+gwWUKeaMQE9OklYqSCuys4kJE/WTEp1lJsNYCESa0BwbR6WpPRlFk2mNajTMO+z+v2JfP7KQ+qV4NY4P27MtAeh1o/9YhWhF2PCJ9n87oam1JnM2vzaKVglN08phJewJIoQYABoyhC8NZ+IJWD9Ajp5EGxrJ2/1T6bMNcbXQaOz5coWKfap51NBrkQKxJ6y12gZCIGRijlvv6sqph6RSIWlhVXMyCBR6etBuZxGQujMAtDZFKqTMIfKYCOK+xvUBiH5/Jd3fiv4DXwdx703sdlVIcovUDmC7sjzBTxK/Pw3Axa2WQ6BWCvg8pLwYNjZoq5+/zRVjmnjRlCC3LTuSBLnJcW+Twa3kJIHDBv4FLc8772bw1LX0M3ZWxAGkJAnj1OQdP+1oPuZ8IuJ0PWuDAXLEYDOndW7PZVAd8XhaXbyeAYTh8OCmdlPvzhm0EkJHqyVskSjtRIOrERQhDx2JkXaT6E32WJS5vwlmY3A52wlyDALmaLNqlcbEpNVlNjaTSgodXVAsmshh7AePfkdDNjFGVq+TFgsknZ0gwtbunJnWbNAcn0Bn+VCKEALShLRcRhSKkX9foSZrZJOTU4CfEBJRTElKZUhSa4ZmZOPj6LrJJ5TlCrJS9s/Fmca63qA+Po5SCok0G1xd4MvxnQEG3q/i/QRatyfMWALJiBBaYgju3hRClElLq+OVI0CX4RvJoogYzNm35p2mYJFACZMf4AtPYAgisbrfn2BlDVdVrVGrjpFWKkzf/0AGttuGUlc39ZEhVi96gDV33I4aGaHc02N2ACHsebtWQihNfWyUrq23omP2bGorVjL20EMUu3t8po4v19JoINKEafvtZzaRuE2eAqSQ1IeHGHrkUfTQEKV+U39YVScozt6Aro02oemJwBKzEIy9sJiJJ5+mUK6QdnQgMsXgvvugRQIqY/ixR6kvX0nS050jxubkJGjJtLfuh9CKtKeXtYvupbFmDdLmMrhzAmOpbuyw1KN/bA2P+PTyIB4soUXg0DWozeGlpNoLivglUVQuZwu4eH4k+COXrDMhnEhyjhsp4oXAi/3GyDCZViw46yy2O+8zVOzJIPE1vuol7v3suTz9459RrHRQ7Or06gkBWXUSWSxxyG23US5XaAK/XX8W9dFxCl2dufnIqlU6t9qaA//4R9Z1jS1dyt9P/Sgr/3gN5cEZ1IfH2PxzJ+b2LLZeS/50HX//4IeorVwFQrDBe49m6w+cAMBLD93P1Qu3R9RqJPacQt1sMjExya7/+U22/9QnAWg0G1y24bxwBpFTzQR8EBykLY4nu/hax+i/jdpBgy0U6dL/pLbVu5PITRXKihsUq4T0p1ooEZ9fF1FN9JogmUR4se232+jYHBmFjgpvu/2v7P61r7VdfDD5gHv/6Ke89Y9XQ0eFRt2cHiK0QGnN5Ogo897/PsplcxxECmz6kY/SGBuNDnSy41HGT+CuRqPJy08+xdDzL9BsmEzfrtmzOfDKqxl8697UhlaTaU02Hp4ZWbWK1c+E/YAA8w58GwfdcguiWEZrxV0nn8Lwc4sBmLHNdmzysZOZHB2DLAOtqQ4NM2377f3iA1x74MGML11uws4ec8WLL8iEPQQy2KE5r6nbHmbWRRj3Yy4KYdYvE4GOpKMmrwZiNBqZNn6tYygcnS6u0fYkTLMTyHytPdhxHdNak9UaNHST/a7+I7P32NNPwlO/u4Lrj3gXf9htV25495E884eQGLrRYYcyuPuu5hQxTKhUT9aQhSILzw57AQHmf/KTJD29ZrFjnYvOAa3nb7ie32yxOX+YN5fLBqbxxP8LRZ8XfvGrNJsqmhNz/f3Uj3H5pptw+ew5XLH11qxd8iIAA5tvybz3H0/WzNDVKn99//v8M7tf/F061ptpyspMVFHAvj//uf9+0Te+zot/vpVST3dgwMg6CPEaYdVscA+b+Q/yPXhzowMpvfU8tcCEJEKrbtH9osbhVi9qrKKxdfGc2skEKAlaJGhSIymiRfHJVkozOTHBZqd8hHn77guYPP6rDzmQm458Dy/+/g+s/cddvPjb33Hju47khvccZSb+0//O0quvpdDZYfLgtKY2OsJG7z2a7tmzia9yby8bnngCkyOjxjfQzl0KpJUyHUDnwACMj3PXx06laSXMtB13IO3p9ef2uqvYUaYCdPb2MfTYY9xzVuDimXvticLsF1x52208+K1vmWcKKTt/59tMNppMTE6wzTlnM33hQgBWP/IId595Fh2loqlIruPFw8pLF0JJUVqiZFQazg3K190Lflm3RyMMPbji3dEFfpeb19u0phpFpdCQ3tRxJklsBeREkxdjIYKn0ahmAwnscM5n/RtuOe44nr/hJrq6e6gMDFCaNo3K4ADdPT28eMXlXLFgAU98+1uUe3u8uaZskYdtPhv2At5x1rle3Wx31lkkpTJZtWYAVWzb+8tmPUoJxRQ1MUGzas4E0I0Gqtn0s9NKQSI1VZMaQ6P+m8w+K6SkVO7g3nPOZvj5FwDY/KijmLnTbhR7etnlqxeGsR97DAJM4SinVglu3/zurKgfuVB0EPHha52X1kLkVIQjHHckgNcP7kfLCDZ6J0Pe1ehOqMphgRzUxIqaIGXq1Sp9W21J79wNABh69lme/tWv6Cx3INICvp4t5qSu8kA/1ecXU+zt8Zm+aE19eIQ57zicgS22BOCl++9n0dcvZOkttwDQOWt95h1zNHW7Eyg4hcIk1cbHmQTGXn6Z8VqdLT9zLmUrhpdefy3Z+NiUia8NDzMGjKxeQ9LVxfYXfNF/9/yVV5IIk3WbdFXQtTp//cAH/Pd7XPoj3nr5ZT455u/nns3KBx/yxSeVdpweA+vIrHPS16tpidbGKnIqN9jW0brZNXJWmztBXGttagULEY76yBWIitpyC+6KLvqYgY5UiNdX7nyAkNjoa9Rmis65c/ykLL3jDlMTv1TACD5X6Ml0VEgQJVsDwHFHrU4GLPxskCIPfv1rJMAj37iIObYw1MLzzuWZX/ySrGqKN+Xi5cCcffbm8JtuolCp0Ln++vRsuCEAE0Nrue+ss0nLJeqWq92101e/wvxPnEHaUWbaggUUO00N4qcvu5wXrrqKcl+PD+GW+npY/udbeeSHP2T+ySez3nYLASP6l/39Tu6/8CI6KhXjaYwccX69fQVQac1CR8Ru36bLtwxHyOQsMBGYOzYMXEItQrii3f7IwcDwhm0C0BCBOoP5pz2Huwwh5bAACVpLc+iBy0PH6HupI6+byztwcNQTevD25RCx1tRGRpj51n1Yb6edARh++hmW/OrXdAAvXncjL92/CID+TTdn7rveQX1kxEukWAJ09PYyd//9mbXHHn7xVyy6nyvmbsjE4iUUu7qnGDmDW23NBm/dl1m77uYX/94LL+Sm9x5FsVj2sQfQkKaUSkX+8akzGH5hiW+j2Wxw6zFHU8Acg0PLGJW13RUOC5hdGUrifSCelAVYB4sv0m0wUnCD503CEG90p6d61Omktrb6IouQu7fzc1jASgYnmSLkqoS2QQwJWnoxlQoYejGYUOvvvisSaNbqwfvl3JsadFPRnKihmuawKtVs0gC2/eznfRt3f+1rVAHV2UkNuM+GgwEWfvY8o95qTX98q7vWPv00//jUp3j8Rz+iXjXgb+b227Hh0e+NJt8tjrmeuuwy7jr7TBZfe63/bPPj30ffJpuismbAO9aHnHZ0Upuscf+FX/f3P3LxxaxZsoRCb1+kfkMpWG/FIez8BeIwVoEFcs47iDuV1RwS5zWvdjXe8rrfubc1IOP0IjdYX2DYyYMo7JrDAkL7JBptOd0RjJYm60Rrd5SBMd3SSoW1jz7CyIsvWC7dlI3fcxRjE5P50741qEaD6tAQXZtvRm1slKxWpT40zLSdd2SD/d7qJ3S3r32VE4aHOfrlVZwwMsyel3zPfzdj++2ZccCBVIfXOqPIf7fmscf4x8UX85eTT+bKhQto2BNK3/LjH1OatR6NiQm8sHME8D+/5M6LvsG1hx7KbaebMnTdc2az6yXfppo1Tb2BGAzbEpvGfLUSYGKchHDWove5WJZ2Pgu0kaIOvzuTUIkwEu2Us/H34otxuHWIcZ2w6hs8mJfKc7jFAs4zGKc6+6CM8CI9YL0WwOJEjKaloIEZjCgUyIB7vxq49IBf/5o5++7PyNgoY0NrqA6tYWJoDcNjo8x5xzs4YtEiFp7/Bapj49SB7c8NNXkAugam0dnTQ7lcoaO7h67BabnvF37ObADVzWYOSKed5rSPnv4+hp56ioe/+U3bU9jo3e/1CaKxAC339dMNdHdWeOy7lzC0xIj2jQ55O11z5tAcn0o0QO5MQymNmjALE7x9sc3vFhnwZl/rPDsQ6O1+oX2+PzgLIi7gY93wImyAkTqn5GTuAWfdtYY7czUshQElAXHoQH2RB9DJIA2UyiUe/v73eOFvfzMTLgXvvPUm9v/lfzP7bYfQt+1CZh90MAf89y845A9/AGDnz53H+gcdRNes9dn4Xf8GQG1slJtO+CC3fPCD3Prhk/zPLR86kT8dfzxjK1cCMGfvvRjcbVdqzXwKrQ9tpymlJGHx5Vf47zZ+37FkTN1948aUVoyb+bkrfuO/2+Cd76Rer4cYim6fEi4iqeldt1GgyX3nI3iWIDz2csrfwTD7Cj86H5SLcV2ca+TONrB7A70asDe4dwgRBu+52nZCCedWMDUFtQ2O+LMFrJnR9MEitylRI0olklqNaw95O4fdfCOzd9sdgK2OO56tjjuedtfi669j6Y03stelP/GfPfL9H/LYL35OR+sEA5NAx6z1eMvXTaXOheedz3WHHwrNLLoxAKW0s5Oh+xYxtnw5XbNmsd7Ou9K9yTyGnlnSJr5uFqgALPnd79n+02cBsPkHTuDxSy4xvg5ZDM6z6F2OMwM6D/EV53RS1kGbWaHhg1lWWii301Ioy1vhIChnHTgnkHP4eGwlWqLggUWDZAlYQISO5Yku+JzcizTGBRwNzrQZ5Qw6cIem2NVNNjHGH3bfg7+f+xmqE+NtF35yeA1/Oe00rn3b2+nZcCO2PinU3X3se9+nOylRnjZAZXBa+HdwGt3lEs/91y98iZSNDns7M7ffPlfmuGBPGNNaQ1ok04ql113vv9/qY58wJdU7w3EzaWc4iibt7mL1PQ9QtWVmZ+60IzN22RU10QgzbNmzED1X6DLtKZ9HQACPbpVwntZWyWD0vNJ4UKs9UdrF1wHHOVDfqvsdyBbnz5iuhUX5LvXKHFthZIu05pivBaS1TxlDCHOGgP0c8KeJS6G9hABflJhEmUmRTmBNVqnWGxQqZebssy+DO25Hsaef+tAa1txzH8v/9leyao1CmtI5dy7Ttt+W5niV+vAQL//jbord3TZXACvV7BszRWN0hIEddqQ8fZC0XGH1Aw9QXbmCWfvuC0IyuWoVax+4n4LNGm5OTFCaPoP+hdsghKA2PMxLf/sb3VtsQd/mmwOC1Q8+QG3lSyTlClqbkvYDO2xPZXA6SanEmocfoLp0BcIVghAm9Ftebyb922yDFjDy5JMMP/sMSaUDLJcGzheW893+PW053FpbQnj0LyyTZoT1UD4xJSrXY9cE4TaIOutbGAIAk5QhXRaQttWqhTmGTAIoZVK943QstK8TgFDewSDAHzcjbNVraVVGYisaCNHE5BiaNrNajWatbg9KtAkhQKlSRrowaq3miy0nMiXt6jTnBzkTVqiW3HlFc3ycrNYw2S8dHYgkMQkbSpm8f7dp1C1CtWqqh2lISkXSjg7Tt4lJ34YsFhEiMe9UisbYGCozXJ92VJClkjWUIrO4WqVeraGApJia0LB1APmgjd1fkUlnXru8A+tPifGBcBjNEkAE5hHC5/w5q8GAv8R7C31hyc9Pn67jCpM+YwftS6GYMumGGpMYJHqut1ggsgicJHDFMIRW1vM0VRII/7m1Te07XSaSf1+bjRGxNzJ4nVvcN1H5k/b7EnXumXxNADcb8Y5eQlRR6pwhFLfhsK9TwPG+E4OjXo3zza2Z1dTuc3A4QvhsYL+RhsinIINbHXeqmJ0DZaVHSrv5cB/63Ls4lSkMwN2jLLfm8INLB4/mRdtBeyNEa384kgM6caUMH3ixDfuEEuE8jzp0RVsdqO0UNppk9Ro6a4IUJEVTxQOZTK2rozUqyyBrmrdKaWoTizAoAagsM6Yk2pwRmCb48vrOiR4HYXLzETJ7/dgJDq9c7kScwubvFR6juX6reBTeN9/6brvuMkr5jxYl7AwSoUFpdY12Z55HE58pFR0JHxrMwLoWgySI/deJzwpSJvdAGqBjrAMR9Ux56eFgjdtkInDqKbjL/NwJjdaK5tgE9WYDKVO6N96QYl8fql6n+vyLjA+tMWqlu8cf6wqgGk0LFhN0s2EIaGLSqBjHfZlGNWroQoJW9hSPWgPKKW63jfdeOqsIl38ggvdN4J07yi6cQ/vKmYSe86M4i51X7ZI/PWdP5Xwt3NlNphhkKGRBiCfYtnNbNFr3rvmSKxHFCiHJWdMuwcDzY+B2z7XkmMJLlZhUdSzGIkea16HurSKaaKW9tNBZxuTQMLK3j52/8TWOXbmMY556iiPvvpv3PPAAx61ZxSF/uoFpb92b8dERkxhqubI2Nsrmp32ME0aHed/IEEcuWUxx/fVpDA/7XjYnR+lZMJ/3j4xy4tgYO3/rm0xOjlmvXbxf0C1mCD/HKV1Bj4uI84PY99LSz2Pk07dfKILEIVYLkcfWo3wRsgB829EfMnQhvDgTRM4eaQCPRfSOijMh7KlVoGVwAWdAJiRaOrvfSgIrJbSQ5kdrlFY0pTbBI62t8ZGiEGRC+cii1qCUMOlZVoKY1CbjIMmaGRMjo8w+5BCOW/oiO376LLoGp+eIWQrJvAMO4l23/IXdv/d96vUqjYlxNIompuYvQFoo0j1jBnt8//tUNahmHS2NitBk/qj5Uk+PdRRpG2Y16i3DbixRzjwTdr605dzUjtP2XQbON3OTkCFNMSeLHVzIPROEzyNZ7tfHp8UbcaNszMb0TZBJkWNEAfmNIYFFIxL0+j8venN6ygM1kXtUW/AYTgoTNqQcLIm8DzwPGpR2hyERxaLyZw5ppaiNjjLzgAM57LpQpTsDnr3qSkYfeoR0cBpz3/Y2+ubOBWDbU0+h2N3FX97/fmTBmGvK5gS612106KFsdNS7WXzZFXT2FwCNipxI7hRxN1blFsutTpQB7HMo/aKGoLuyMxJm2/txfXvOjm+9gvPHrV1ehPuy9y3YIL5adgaFhrWweh38YVDGNRDAWkSKEUGYQWbWDEwcd3sdbobvDqgW2viv4wix1AKpEku9Am3o3juqXc6hRJnASlcXB18eXLJLbrmZPx97HCMrV/pSNikw/+Ons9d3vg3AVu97H0tvvMEXjWx3vfUnP+N/bryJ+vCwjw7GVwbeDR4qorusKkvyIokipKBcvjyRmrRePuV8QP5zbSO9VmJGFprLFnISW1hp7PIJhBC4s+HzaWH5q802zdYrcPWUitYir/fVlDzCyBPlqDmi83jzYvCNu3at6NfhCe2xgvbt1eoZW516GpW+fgCW338fV+1/ANWVK+np6aarr5fu3h6KpSL3fvc73Pqx031/d/7yV8wEhhEhgOEVKwAod3ez+/cvYVJZEy4n9aK0OMfhkcrKefC0k1txehzeixrGHWSKy8jWMeDTefe8X6FgzgTmbGvuTr3aEkCMCczfJoKkZWK8SdoFKEBLaApMCpk9LTQGfm5TomvTZRa59Cfl/o7Ov83QZEm0MUJLgw1ESkZicYamqYwA3ez4Y3xfbzv9DARQ6Oshk6acjZIC0VGhq1zkoe9/l5efeByA3rlz6d9pB+rkJ/Xvn/usj/JtfcxxzH37oUwAWsUHQ4akTG37kwFKJCiZGl2v7VwJyJKokKMZlCd65x8IOQiG8xXGyeMZiyBNtRA2EddISRUziEymUErrmr4iAbRevmqIJbe8JHC2u6PGqIyLvcVxgDNPPM1rgdYFP1GurRyHec4K3OR0VLPZpFgpMbjF5gBMjIyy4va/USymgTuj52SphAIW//EqP7b+BQto2AVx18TTT/HnD5/k/97/5z8jwdQQCpNCTgL4M/m0NlaB+yjqu58f6ztRWqJ1ARAopaY4eeINIq2npignDlxnLNd7DMhUq67d9aoEEFLB4oYTm/0T0K+SwmYQGd0TZiYvCbz+Qwfux5Q1NfdIDwYzNA1hTsvOohIrWidonZg6VsWSPTcIaqPD1BSoNPVi3agRLG4wDdRfXuvHl3R1TQn5lqbP4NE/3cSSm28CoGv6DHb/6leYWLsqusucwJ2JlEykKNsnp5szCU2haaBMLN9zuUH4mXCca7nee0wNF2c+wIM3JR3nN9FoKa01FHkiZULsr2xNC3/dBND6rN9x4iwDEQS7Je+cBeA7ICLuEM7x4zY32MQrv7iRzox0WW6Xj+MsKamNjfszAHpnz6Gjr49mterBUKyflTImX9/CbfyYJpYu80Tqx10qUQRuPjFEHnc+51w2OOKdYS7sj3I+DRETqJECbk6cheMko2vAjFUF3OPBoHagK+fR8/5Rn1xiUaNwFlQ0P6+wjq+ZAOKHnSQIEyBw+8zaSYJMCppx6JG8JFBISwhGDrgUc4MHXDEag/3dYDKhaQhlJILQUCwykWUsvf02P5gtPnACowqaynFnYvIbdcb46BiV/h42e8+Rfhwr7rozFL2MxiaB1c8/z82f/KSfh/2+9d3oHvsjTdw+s5KqIZTP3jH3yMgfIIgzsIwIU2H7nZOSsVtYBKZx8xtzvmGw4OcnZrxXWfzXRACtjThqDd9ZLtV5SeCeC0ApKvAUeQKDV0oHbpqi9wkTKB1GCObdou+Ehdn3Wxcza4edGB4dpTa8lqxaozE+zujwGBlwyP/+mkLBZOI+9cc/MrR0BQn5yy1PpVjh3m99i2X33GP+jvYv5iSAl04GcGqZ53iPZXT040Yq2nwXu3e9WRlzY5AQrWc8vlbOf10EkHu3kwRONAsBIvH7F5wkcE8oZ8sLZ0dbMKRdOqOZrFAU0xCCUvbf2Byycla7hAkhKHR28PQNN/DEVVcCJij1/nvvZpczzyQdHGCyNkFdFJiz774cd//9bHLw2/wC/uWMT1KMdW0LEaTlMilw/QkfmDIf2qJ+3Trlfm+kA3tuHE7Xax/vdn59Nx+ujeD5E9ayMFaWEmETiFEPMuwcep2c/7oJoLXRvCRw3i83suAxDEg+SoNyGEBHP3bCcCIzzny1UUPPdW4yUcg0pShTrj7mOJYvWuQHtf9FF/GxVS9zyqqX+NjwEEffeiszt93W9//yww9l9bPPkHZ3ed96PDbX73JnNyseeZS//ccFLXMRUl3cQiodmNNztfvdk0qk3rTNmnZ6PN52B/jYQBSPCdggWro3wPlviADixmNJIBAGmLjECpwk0EYcSmn8426QkYPHgafM2bxOpfj3xBJBmM2RWN+6JZy0u4tsYoL/3mUX7vvRD3L97RycTqkSjmx56YlH+flOO/HM1ddS6epCJaa9NDpoOumokAFNCVkhoVIocPv5X2Dt80v8PYXubi/ClRaWW9fB8cFJaPz/QKYdp1tJqIJ3z0lNXwTbzaUjBpEEgn2DnO/Hum9n5xfeKBG0fuA0fzi21PiwXYUvR7yOgEK9YWe/hskSkZoRU17qvI1mIwQCY+M3Gjx21R955H9+RXVkCCEl9YkqI0tfZMnNN/Pn8z7DLaefwdjy5XR09yLTBJDoWt1k6CSClx55mGevuZaJZctMZg8KUUhp1uos/fsdiFKZVY8+yrPXX8fqRYvMwRHO0wnBnxCN0/wdFZrygf3oOWdCC6fvw2HVvmaokIHzI0uKN7j4AOLzNiXsjVzxg/4US4tyXdxekPldLkKH8/fA6D13uphZb5e0EGoVabB5hzr/Xvu+1iNdtcpojI5Rj9IlbFYDBaBU6UT6g5tsezatq65MsKeUFkz6mIx35UBjdIxJbQ6aLAClrh5EEmXrtMRd3PYuj+q1iw8QnnEMADQ9IQT3uXkusfUeHF6YapW9kcWHdtHA13FFuN+Lw4AKbEFIu7EREQZvQL/xXrlYmNBRXTvnBXNAMiIIZ6QFAnHBD/viRFLo66GgAZ1ZgksQ0iSqhkWJByJIu7tzkxE2w1giEJqkt5tOT4fOueO8oTKgdTs+11u/ai5lW0fviGGUtNaObz9ibRFFEFtW+40u/j9NADERxJ4sp7c0Jg5vFslgZlMdLuQGKlyRAjc5DiK5lDKdIwhzUogTocG9au3LXIBSIu3mt8S3PRXvr+PSgbQ9gIule+QUs6uJM19xC++koTV/nZ8/Ph9YRU158Gu76XZqicjvA+Qip//s9U8TQEwEro/azxDernVhUaznT0VexJCrL+xRJMK7Pz1nex+CmzQ99e12pvx8CefkzaLevTIJiHV8KCzWCG5ja6HrIKV8fl+EX+It8j5aaJtVdgpCXr97XnoicUwyRb/wz3G+u/4lBBBf7Y+g1cFexWED7Qkl8nt5L5x0u2C086VFbmH3Lp83mD8Ny8fDc66odhM3xbB95bFFUhktw6Ih8mOJHD2m27EJHL3ZqwDt2xdC2HoBlixiNfEmXP8yApgSN7D/ekTrGVb6SKXWytTnJSQreor3zCAN/2rsxhXbjI8sikhaBxta6JaeRbo24AkngK0CdqrGMptuoQmPN6IG4xIuId/BdzLvPhdBOuY43vpQhHSfuTl55Tn+V1z/cgnQejnqlToM3K4CJqdHWYeHm1mRc04oL1LDngQjGRQyTj2PONDFJ6TXw0SrKRxsAx3H972P0hOS+8IlP8UI3o4O4Zw/FuSFA7jyJObM2tzRbR6vBP+JN6PJS4w363rTCCAGt+Co2a9mCMAIEUrUONWAO6HMmwwevetWyYCpWRxtU/BAyye2TnEk6CiFK+qoR+pTvYJOJORoCYGS4XettamQKiBL4qZdX5wEsZ68yHEKwQ8QBQxzc/lmXG+6BPCTECF9YUnbaXCH7rXQXiK4BQkQL3KaWLdrkO5mJ1Ks7Z0rNma4PIeqVpqgFY+4hEvPiTKWTsIDUve8ECJUVfFOrGCqulHE/XASMaCV2KZ98683nQD8UFps3xjZ+mRTp4uteAi7bLQlDpFLQXDkoGTIysVOMFr7Mu/teiQQuELoAlfXqLXXYSGUA3uA92ZFSSput1JMgELbcLYlHpHjbk3YECMCkRHjpTd7deD/AwNFcIsZ/eYdAAAAAElFTkSuQmCC)](https://segmentfault.com/u/yongshun)

[永顺](https://segmentfault.com/u/yongshun)发布于 2016-08-26

简介

事务是一组原子性的 SQL 查询, 或者说是一个独立的工作单元. 在事务内的语句, 要么全部执行成功, 要么全部执行失败.

事务的 ACID 性质

数据库事务拥有以下四个特性, 即 ACID 性质:

-   原子性(Atomicity): 事务作为一个整体被执行, 包含在其中的对数据库的操作要么全部执行成功, 要么全部失败回滚. 对于一个事务来说, 不可能只执行其中一部分操作, 这就是事务的原子性.
-   一致性(Consistency): 事务应确保数据库的状态从一个一致状态转变为另一个一致状态.
-   隔离性(Isolation): 多个事务并发执行时, 一个事务的执行不应影响其他事务的执行.
-   持久性(Durability): 已被提交的事务对数据库的修改应该永久保存在数据库中.

事务的隔离级别

SQL 中定义了四种隔离级别, 每种级别都规定了一个事务所做的修改,哪些在事务内和事务间是可见的, 哪些是不可见的. 较低的隔离通常可以执行更高的并发, 系统的开销也更低.

SQL 标准中的四种隔离有:

-   READ UNCOMMITED(未提交读)  
    在 READ UNCOMMITED 级别中, 事务的修改, 即使没有提交, 对其他事务也是可见的. 其他事务可以读取此事务中的未提交的数据, 这也被称为脏读(Dirty Read). 此事务隔离级别会导致很多问题, 并且性能也不会比其他事务隔离级别好多少, 因此在实际环境中很少使用.
-   READ COMMITED(提交读)  
    大多数的数据库默认隔离级别都是 READ COMMITED, 但是 MySQL 并不是. 在 READ COMMITED 级别中, 一个事务从开始到提交之前, 所做的任何修改对其他事务都是不可见的.

这个级别有时候也叫做不可重复读(nonrepeatable read), 因为两次执行相同的查询, 可能会得到不一样的结果.

-   REPEATABLE READ(可重复读)  
    REPEATABLE READ 解决了脏读的问题. 该级别保证了在同一个事务中多次读取同样记录的结果时一致的. 但是理论上, 可重复读隔离级别还是无法解决另一个幻读(Phantom Read)的问题. 所谓幻读, 指的是当某个事务在读取某个范围内的记录时, 另外一个事务又在该范围内插入了新的记录, 当之前的事务再次读取该范围的记录时, 会产生幻行(Phantom Row).

可重复读是 MySQL 的默认事务隔离级别.

-   SERIALIZABLE(可串行化)  
    SERIALIZABLE 是最高的隔离级别. 他通过强制事务串行执行, 避免了前面说的幻读的问题. 简单来说, SERIALIZABLE 会在读取的每一行数据上都加上锁, 所以可能导致大量的超时和锁争用的问题. 实际应用中也很少用到这个隔离级别, 只有在非常需要确保数据的一致性而且可以接受没有并发的情况下, 才考虑采用该级别.

死锁

死锁是指两个或多个事务在同一个资源上相互占用, 并请求锁定对方占用的资源, 从而导致恶性循环的现象. 当多个事务试图以不同顺序锁定资源时, 就可能产生死锁.

死锁发生以后, 只有部分或者完全回滚其中一个事务, 才能打破死锁.

MySQL 中的事务

在 MySQL 提供的众多存储引擎中, 只有 InnoDB 和 NDB Cluster 支持事务.

关于自动提交(AUTOCOMMIT)

MySQL 默认采用自动提交(AUTOCOMMIT) 模式. 即如果不显示地开始一个事务, 则每个操作都被当做一个事务执行提交操作.

我们可以通过

SHOW VARIABLESLIKE 'autocommit';

查询当前是否已经开启了字段提交事务, 例如:

mysql> SHOW VARIABLES LIKE 'autocommit';  
+---------------+-------+| Variable_name | Value |  
+---------------+-------+| autocommit    | ON    |  
+---------------+-------+1 row in set (0.00 sec)

如果是 ON, 则表示已经开启了, 0 或 OFF 表示禁用.

可以通过 "set autocommit=0;" 来禁用自动提交:

setautocommit=0;

对于非事务型存储引擎, 例如 MyISAM, 修改 AUTOCOMMIT 属性试不会有影响的.

自动提交和非自动提交的区别

下面以一个例子来展示 autocommit 启动和非启动时的区别.

首先建立一个测试用的表:

CREATETABLE`user` (  
  `id`   BIGINT(20) NOTNULLAUTO_INCREMENT,  
  `name` VARCHAR(20)         DEFAULT'',  
  `age`  INT(11)             DEFAULT'0',  
  PRIMARY KEY(`id`)  
)  
  ENGINE = InnoDB  
  DEFAULTCHARSET = utf8mb4

接着关闭自动提交功能:

mysql> setautocommit=0;

然后插入一个数据:

mysql> INSERTINTOuser(`id`, `name`, `age`) VALUES(1, 'xys', 18);

接着查看数据:

mysql> select * from user;  
+----+------+------+| id | name | age  |  
+----+------+------+|  1 | xys  |   18 |  
+----+------+------+1 row in set (0.00 sec)

数据库中可以查询到这条数据了.

但是我们通过 SHOW BINLOG EVENTS 查看操作日志:

mysql> show binlog events;  
+------------------+-----+----------------+-----------+-------------+---------------------------------------+| Log_name         | Pos | Event_type     | Server_id | End_log_pos | Info                                  |  
+------------------+-----+----------------+-----------+-------------+---------------------------------------+| mysql-bin.000001 |   4 | Format_desc    |         1 |         123 | Server ver: 5.7.13-log, Binlog ver: 4 |  
| mysql-bin.000001 | 123 | Previous_gtids |         1 |         154 |                                       |  
+------------------+-----+----------------+-----------+-------------+---------------------------------------+  
2 rows in set (0.00 sec)

会发现上面的输出中, 并没有插入数据相关的记录, 并且此时如果我们退出 MySQL 的话, 那么我们插入的数据并没有被保存:

mysql> exitBye  
>>> mysql -u root -p  
Enter password:

mysql> use test;  
Database changed  
mysql> select * from user;  
Empty set (0.00sec)

mysql>

如果我们不退出, 而是输入COMMIT; 时, 那么此时数据才真正保存到 MySQL 中:

mysql> commit;  
Query OK, 0 rows affected (0.02 sec)

mysql> show binlog events;  
+------------------+-----+----------------+-----------+-------------+---------------------------------------+  
| Log_name         | Pos | Event_type     | Server_id | End_log_pos | Info                                  |  
+------------------+-----+----------------+-----------+-------------+---------------------------------------+  
| mysql-bin.000001 |   4 | Format_desc    |         1 |         123 | Server ver: 5.7.13-log, Binlog ver: 4 |  
| mysql-bin.000001 | 123 | Previous_gtids |         1 |         154 |                                       |  
| mysql-bin.000001 | 154 | Anonymous_Gtid |         1 |         219 | SET @@SESSION.GTID_NEXT= 'ANONYMOUS'  |  
| mysql-bin.000001 | 219 | Query          |         1 |         291 | BEGIN                                 |  
| mysql-bin.000001 | 291 | Table_map      |         1 |         342 | table_id: 108 (test.user)             |  
| mysql-bin.000001 | 342 | Write_rows     |         1 |         394 | table_id: 108 flags: STMT_END_F       |  
| mysql-bin.000001 | 394 | Xid            |         1 |         425 | COMMIT /* xid=58 */                   |  
+------------------+-----+----------------+-----------+-------------+---------------------------------------+  
7 rows in set (0.00 sec)

从上面的操作中我们可以看到, 当禁用了 AUTOCOMMIT 后, 我们对数据库的写入操作并不会实际落地到数据库中, 除非我们显示地提交事务.

接下来, 我们使能 AUTOCOMMIT, 再次进行相同的操作.

mysql> set autocommit=1;  
mysql> SHOW VARIABLES LIKE 'autocommit';  
+---------------+-------+| Variable_name | Value |  
+---------------+-------+| autocommit    | ON    |  
+---------------+-------+1 row in set (0.00 sec)

然后插入一个数据:

mysql> INSERTINTOuser(`id`, `name`, `age`) VALUES(1, 'xys', 18);

接着查看数据:

mysql> select * from user;  
+----+------+------+| id | name | age  |  
+----+------+------+|  1 | xys  |   18 |  
+----+------+------+1 row in set (0.00 sec)

数据库中可以查询到这条数据了.

我们再次查看 binlog, 对比一下和禁用 AUTOCOMMIT 时有什么差别:

mysql> show binlog events;  
+------------------+-----+----------------+-----------+-------------+---------------------------------------+  
| Log_name         | Pos | Event_type     | Server_id | End_log_pos | Info                                  |  
+------------------+-----+----------------+-----------+-------------+---------------------------------------+  
| mysql-bin.000001 |   4 | Format_desc    |         1 |         123 | Server ver: 5.7.13-log, Binlog ver: 4 |  
| mysql-bin.000001 | 123 | Previous_gtids |         1 |         154 |                                       |  
| mysql-bin.000001 | 154 | Anonymous_Gtid |         1 |         219 | SET @@SESSION.GTID_NEXT= 'ANONYMOUS'  |  
| mysql-bin.000001 | 219 | Query          |         1 |         291 | BEGIN                                 |  
| mysql-bin.000001 | 291 | Table_map      |         1 |         342 | table_id: 108 (test.user)             |  
| mysql-bin.000001 | 342 | Write_rows     |         1 |         394 | table_id: 108 flags: STMT_END_F       |  
| mysql-bin.000001 | 394 | Xid            |         1 |         425 | COMMIT /* xid=292 */                  |  
+------------------+-----+----------------+-----------+-------------+---------------------------------------+  
7 rows in set (0.00 sec)

我们看到, 和禁用 AUTOCOMMIT 不同的是, 使能 AUTOCOMMIT 时, 每个写操作都会进行事务的提交. 即上面的 insert 操作等效为:

BEGIN;  
INSERTINTOuser(`id`, `name`, `age`) VALUES(1, 'xys', 18);  
COMMIT;

本文由 yongshun 发表于个人博客, 采用署名-非商业性使用-相同方式共享 3.0 中国大陆许可协议.

非商业转载请注明作者及出处. 商业转载请联系作者本人

Email: yongshun1228@gmail.com

本文标题为: MySQL 数据库事务

本文链接为: [https://segmentfault.com/a/11...](https://segmentfault.com/a/1190000006727537)

[![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAP8A/wD/oL2nkwAABEBJREFUWMO9lWtsFFUUx39nZgoLFiEFiUiEBJsocasllYc1KVuQKBhTBUfajTVGtGgUVEjEQEuGbgmEENFgMOAHICbb1iWa2PAQtN0P1CYkJDVdi20CQdQCgiCPAtqZOX5YJFL62G7B82Vm7j3n3N/533vuCHllGTx4fwSVIkQvocRBd1K9+kf+BxPCVSuBtUAzqtmIZKIool/h8T61FUfvJICBshCljmj5FNxzY/H1NUTbQeZjSAvFleE7q0BJ1S6ER+lwJxN3XABs2yQj503U2IAwDOU0cB60A6URZB815U2ADhbAJCd0GpFlZMpFEg1NALS2Ki0NhwgWfAMyFgTgboTJiMxGWEROYTHB0EkS8SODUwCgJLINkVdQfybVq5t69c4ryyB7/JMYRhlIEYKg7Ma9upjY2t/SBwg5Ae6zmlBG0XnxEb7ecKnfSNvJxTI3IRIC/ROkjGh5bOBbAHA87vJQYRyTZViBLBL1e7tBFgE+cO7GaGv8FImGnQQLTyDMBXmJnFlZjC74luNxP1UA48ZbrKINlQgGi5m/ctx/fBSYBRwGJtySobpiO3hTQFuApYyz9mA7mQMHAJDLW1EMhg4v6ea3HDgL5PSYJeoc4+yFx1F2I8zBsr7DXjFy4ADR9edBvwcWdvNzgVJgX6+Z9m/s5KT7HKq7EKZhZe7Bfm/YwACSgtcCU7FXje820wh4fWaLOy7tv4STSkg+1ujP+fegpwzgXfkC1CMj8EIqEt5ih7d1cdl9EWhGWEBJ5IOBAcTWnQGpQ3m9P/perc65Au6CZHtSSXHl9NQBkvYhIg8TrlxIuhZ1joG8jYiFGDsIOYGe3MwegxP1JwgWTgPjZYIFNSTi/V9MPVlLfQvBWVMR8rlLlERDQ6oKgHpvAUMwrLq0VQAQdymqf2OwnOedsakD1DjHET4CzWXukqFpA0SdYwifgQwnYL2ROgCA6hyQQ+zd/NegVFDvk6QaugjbvmnbewewnSEIM1C/dlCLA1Q7P4E2gkzACs5LDcA0poME8P09gwZIlv9x8mG+kxqAGFNRPUWt035b1u/64UtUjwKzsZ3cFAB0EvDz7akeiMU8VDcCYJkr+gdQRiDc2v/FzmNpQ5zyd4D+DmJjO9l9A4Ci3Nx+4cg8DPNA2m0Zd67hswXBxDLL+wM4C9x74yvkWMAWkFGMusdOWwXvyhbQa4iEmV81sa8taAOZxLPOcADGWTNAJgIg8m7aALF1Z1C2AhkENNIXwEEEkxFm6PpI/vWJRpA8wmueShtCOtdcPwulvQPUVhwBmlFKk0E8AIAvm1E9iJqVpPu7jq4/j69PAw19JyiufBUxtuH5M7GMVcBcPDcP08wCOQB+CdHVNWkrkUIFQkmkHpEnQD3Ap+vcGGKbrhKu+hTVZ/jjwmT2b+xMF8DoZ15xvQWgdSC/gpQR23QVgA53CUIbY0ZGBqPAP4pmczNLMvaWAAAAAElFTkSuQmCC)](https://segmentfault.com/t/mysql)

[mysql](https://segmentfault.com/t/mysql)

From <[https://segmentfault.com/a/1190000006727537](https://segmentfault.com/a/1190000006727537)>